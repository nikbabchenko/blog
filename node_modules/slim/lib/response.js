'use strict';

var Buffer = require('buffer').Buffer;
var http = require('http');
var utils = require('./utils');

/**
 * Объект ответа сервера.
 */

var response = module.exports = {
	__proto__: http.ServerResponse.prototype,

	/**
	 * Отправляет ответ клиенту.
	 * @param body тело ответа.
	 * @param statusCode код статуса ответа.
	 * @param headers объект заголовков ответа.
	 */

	send: function (body, statusCode, headers) {
		body = body || '';
		this.writeHead(statusCode || 200, utils.merge([ headers, { 'Content-Length': Buffer.byteLength(body)} ]));
		this.end(body);
	},
}
